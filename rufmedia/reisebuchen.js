!function(){var e,t;let l={},n,a,r,s,i;function o(){a=new google.maps.Map(document.getElementById("map"),{mapId:"DEMO_MAP_ID",zoom:11,center:{lat:47.34002,lng:8.58162},disableDefaultUI:!0,draggable:!1,clickable:!1});let e=new google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#000000"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2270DE"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#cae1ff"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#1e90ff"}]},],{name:"Custom Map"});a.mapTypes.set("custom_map",e),a.setMapTypeId("custom_map"),function e(){let t=document.getElementsByName("origin")[0],l=document.getElementsByName("destination")[0],n={componentRestrictions:{country:["de","at","ch"]},strictBounds:!1};r=new google.maps.places.Autocomplete(t,n),s=new google.maps.places.Autocomplete(l,n),r.addListener("place_changed",()=>{let e=r.getPlace(),l=e.types.includes("airport");t.setAttribute("airport",l)}),s.addListener("place_changed",()=>{let e=s.getPlace(),t=e.types.includes("airport");l.setAttribute("airport",t)})}()}function m(e){let t="invisible";"route"==e?document.getElementById("trip").classList.toggle(t):"trip"==e?("Mobile"==i?(document.getElementById("map").style.display="flex",document.getElementsByClassName("route-form-container")[0].style.height="750px"):"Tablet"==i&&(document.getElementById("map").style.display="flex",document.getElementsByClassName("route-form-container")[0].style.height="700px"),document.getElementById("route").classList.toggle(t)):(document.getElementById("trip").classList.add(t),document.getElementById("route").classList.add(t)),document.getElementById(e).classList.toggle(t)}function d(){let e=document.getElementById("cars"),t=document.getElementById("baggageCount"),l=document.getElementById("personCount"),a=document.getElementById("childCount"),r=parseInt(e.options[e.selectedIndex].getAttribute("maxPerson")),s=parseInt(e.options[e.selectedIndex].getAttribute("maxBaggage"));if(t.childElementCount<=1)for(let i=0;i<=s;i++){let o=document.createElement("option");o.value=i,o.textContent=i,t.appendChild(o)}if(a.childElementCount<=1)for(let m=0;m<=r;m++){let d=document.createElement("option");d.value=m,d.textContent=n.TABS.TRIP.PERSONS+" "+m,l.appendChild(d);let y=document.createElement("option");y.value=m,y.textContent=n.TABS.TRIP.CHILDREN+" "+m,a.appendChild(y)}}function y(){return!0}(e=document.getElementById("route-form")).addEventListener("submit",function(t){t.preventDefault();{let n="false";("true"==e.elements.origin.getAttribute("airport")||"true"==e.elements.destination.getAttribute("airport"))&&(n="true");let a={dataSource:"route",type:e.elements.type.value,origin:e.elements.origin.value,destination:e.elements.destination.value,airport:n,flightNumber:e.elements.flightNumber.value,returnDrive:e.elements["return-drive"].value,hours:e.elements["hours-select"].value,car:e.elements.cars.value};l.route=a;let r=JSON.stringify(a);window.parent.postMessage(r,"*"),document.getElementById("loading").style.display="block"}}),document.getElementById("type-row").addEventListener("click",function e(t){var l=t.target;if(!l.matches("input"))return;var n=document.getElementById("type-row").getElementsByTagName("input");for(let a of n)a.classList.remove("selected");l.classList.add("selected");let r=t.target.id;document.getElementById("route-form").elements.type.value=r,"transfer-ride"==r?(document.getElementsByName("destination")[0].style.display="flex",document.getElementsByName("destination")[0].setAttribute("required",""),document.getElementsByName("flightNumber")[0].style.display="flex",document.getElementById("return-drive").style.display="flex",document.getElementById("return-drive-label").style.display="flex",document.getElementById("hours-select").style.display="none",document.getElementById("hours-select-label").style.display="none",document.getElementById("distance").style.display="flex",document.getElementById("duration").style.display="flex"):(document.getElementsByName("destination")[0].style.display="none",document.getElementsByName("destination")[0].removeAttribute("required"),document.getElementsByName("flightNumber")[0].style.display="none",document.getElementById("return-drive").style.display="none",document.getElementById("return-drive-label").style.display="none",document.getElementById("hours-select").style.display="flex",document.getElementById("hours-select-label").style.display="flex",document.getElementById("distance").style.display="none",document.getElementById("duration").style.display="none")}),(t=document.getElementById("trip-form")).addEventListener("submit",function(e){if(e.preventDefault(),function e(){document.getElementById("dateTimeError").style.display="none",document.getElementById("maxPersonError").style.display="none";var t=document.getElementById("route-form"),l=document.getElementById("trip-form");let n=l.elements.date.value,a=l.elements.pickupTime.value,r=l.elements.personCount.value,s=l.elements.childCount.value,i=parseInt(r)+parseInt(s),o=t.elements.cars,m=parseInt(o.options[o.selectedIndex].getAttribute("maxPerson")),d=new Date(n+" "+a);d.setHours(d.getHours()-12);let y=d>new Date;!1==y&&(document.getElementById("dateTimeError").style.display="block");let E=parseInt(i)<=parseInt(m);return!1==E&&(document.getElementById("maxPersonError").style.display="block"),y&&E}()){let n={dataSource:"trip",name:t.elements.name.value,email:t.elements.email.value,phone:t.elements.phone.value,baggageCount:t.elements.baggageCount.value,personCount:t.elements.personCount.value,childCount:t.elements.childCount.value,date:t.elements.date.value,pickupTime:t.elements.pickupTime.value,comment:t.elements.comment.value};l.trip=n,l.dataSource="trip";let a=JSON.stringify(l);window.parent.postMessage(a,"*"),document.getElementById("loading").style.display="block"}}),document.getElementById("reload").addEventListener("click",function(e){location.reload();let t=JSON.stringify({dataSource:"config"});return window.parent.postMessage(t,"*"),!1}),window.addEventListener("message",async t=>{let{dataSource:o}=JSON.parse(t.data);if("config"==o){var y,E;let{dataSource:T,language:p,device:g,translations:u,cars:B,maxHours:c,kilometerPerHour:I}=JSON.parse(t.data);i=g,y=p,n=E=u,document.getElementById("route-headline").innerHTML=E.TABS.ROUTE.HEADLINE,document.getElementById("transfer-ride").value=E.TABS.ROUTE.TYPE_ROW.TRANSFER_RIDE,document.getElementById("per-hour").value=E.TABS.ROUTE.TYPE_ROW.PER_HOUR,document.getElementsByName("origin")[0].placeholder=E.TABS.ROUTE.ORIGIN,document.getElementsByName("destination")[0].placeholder=E.TABS.ROUTE.DESTINATION,document.getElementsByName("flightNumber")[0].placeholder=E.TABS.ROUTE.FLIGHT_NUMBER,document.getElementById("return-drive-label").innerHTML=E.TABS.ROUTE.RETURN_DRIVE_SELECT.LABEL+":",document.getElementById("hours-select-label").innerHTML=E.TABS.ROUTE.HOURS_SELECT.LABEL+":",document.getElementById("cars-label").innerHTML=E.TABS.ROUTE.CARS.LABEL+":",document.getElementById("one-way").innerHTML=E.TABS.ROUTE.RETURN_DRIVE_SELECT.ONE_WAY,document.getElementById("round-trip").innerHTML=E.TABS.ROUTE.RETURN_DRIVE_SELECT.ROUND_TRIP,document.getElementById("please-select").innerHTML=E.TABS.ROUTE.CARS.PLEASE_SELECT,document.getElementById("route-submit").value=E.TABS.ROUTE.SUBMIT_BUTTON,document.getElementById("trip-headline").innerHTML=E.TABS.TRIP.HEADLINE,document.getElementsByName("name")[0].placeholder=E.TABS.TRIP.NAME,document.getElementsByName("email")[0].placeholder=E.TABS.TRIP.EMAIL,document.getElementsByName("phone")[0].placeholder=E.TABS.TRIP.PHONE,document.getElementById("baggage").innerHTML=E.TABS.TRIP.BAGGAGE,document.getElementsByName("date")[0].placeholder=E.TABS.TRIP.DATE,document.getElementsByName("pickupTime")[0].placeholder=E.TABS.TRIP.TIME,document.getElementById("maxPersonError").innerHTML=E.ERRORS.VEHICLE_CAPACITY,document.getElementById("dateTimeError").innerHTML=E.ERRORS.BOOKING_DATETIME,document.getElementsByName("comment")[0].placeholder=E.TABS.TRIP.COMMENT,document.getElementById("trip-submit").value=E.TABS.TRIP.SUBMIT_BUTTON,document.getElementById("request-headline").innerHTML=E.TABS.REQUEST.HEADLINE,document.getElementById("your-request").innerHTML=E.TABS.REQUEST.YOUR_BOOKING_REQUEST+":",document.getElementById("request-message").innerHTML=E.TABS.REQUEST.WE_WILL_CONTACT_YOU,document.getElementById("reload").value=E.TABS.REQUEST.SUBMIT_BUTTON,a.setOptions({language:y}),r.setOptions({language:y}),s.setOptions({language:y});let f=document.getElementById("cars");1==f.childElementCount&&(B.forEach(e=>{let t=document.createElement("option");t.value=e.NAME,t.textContent=e.NAME,t.setAttribute("maxPerson",e.MAX_PERSON),t.setAttribute("maxBaggage",e.MAX_BAGGAGE),f.appendChild(t)}),f.addEventListener("change",d)),function e(t,l){let a=document.getElementById("hours-select");if(!(a.childElementCount>1)){a.style.display="none";for(let r=1;r<=t;r++){let s=document.createElement("option");s.value=r,s.textContent=r+" ("+n.TABS.ROUTE.HOURS_SELECT.INCLUSIVE+r*l+"Km)",a.appendChild(s)}}}(c,I)}else if("route"==o){let{distance:R,duration:A,startLocation:S,endLocation:N,polylines:L,bounds:h,price:O}=JSON.parse(t.data);if(l.distance=R,l.duration=A,l.price=O,l.polylines=L,l.bounds=h,document.getElementById("distance").innerHTML=n.TABS.TRIP.DISTANCE+": <br>"+R+" Km",document.getElementById("duration").innerHTML=n.TABS.TRIP.DURATION+": <br>"+A,document.getElementById("price").innerHTML=n.TABS.TRIP.PRICE+": <br>"+O+" CHF",""!=L){let b=google.maps.geometry.encoding.decodePath(L);new google.maps.Marker({position:S,map:a,title:e.elements.origin.value});let{PinView:C,AdvancedMarkerView:v}=await google.maps.importLibrary("marker"),M=new C({background:"#ffffff"});new v({map:a,position:N,content:M.element,title:e.elements.destination.value});let U=new google.maps.Polyline({path:b,strokeColor:"#FF0004",strokeWeight:3,strokeOpacity:.7});U.setMap(a);var P=new google.maps.LatLngBounds;P.extend(S),P.extend(N),a.fitBounds(P)}document.getElementById("loading").style.display="none",m("trip")}else{let{dataSource:x,status:H,price:$,route:D,trip:k}=JSON.parse(t.data);H?(document.getElementById("booking-class").innerHTML=n.TABS.REQUEST.BOOKING_CLASS+": "+D.car,document.getElementById("dateTime").innerHTML=n.TABS.TRIP.DATE+": "+k.date+" / "+n.TABS.TRIP.TIME+": "+k.pickupTime,document.getElementById("originDestination").innerHTML=n.TABS.ROUTE.ORIGIN+": "+D.origin+" / "+n.TABS.ROUTE.DESTINATION+": "+D.destination,document.getElementById("totalPrice").innerHTML=n.TABS.TRIP.PRICE+": "+$+" CHF",document.getElementById("counts").innerHTML=n.TABS.TRIP.PERSONS+": "+k.personCount+" / "+n.TABS.TRIP.CHILDREN+": "+k.childCount+" / "+n.TABS.TRIP.BAGGAGE+": "+k.baggageCount,document.getElementById("request-comment").innerHTML=n.TABS.TRIP.COMMENT+": "+k.comment):document.getElementById("request").innerHTML="<h2>"+n.ERRORS.UNKNOWN.SOMETHING_WENT_WRONG+"</h2><p>"+n.ERRORS.UNKNOWN.REQUEST_COULD_NOT_SUBMITED+"</p><p>"+n.ERRORS.UNKNOWN.PLEASE_CONTACT_US+"</p>",document.getElementById("loading").style.display="none",m("request")}})}();
