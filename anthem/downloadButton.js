document.querySelector('[wized="download-button"]').addEventListener("click",function(){console.log("trigger");let e=document.querySelector('[wized="download-button"]'),t=e.getAttribute("href");if(t&&"#"!==t){window.location.href=t;return}let n=document.getElementById("print"),o=document.getElementById("product_image"),l=!1,r=!1;function d(){r||(r=!0,html2canvas(n,{useCORS:!0,onclone(e){let t=e.querySelectorAll(".button-group");t.forEach(e=>{e.style.display="none"});let n=e.querySelectorAll(".product_breadcrumb .text-link, .product_breadcrumb .breadcrumb-divider");n.forEach(e=>{e.style.display="none"})}}).then(function(t){let n=document.createElement("canvas");n.width=t.width+64,n.height=t.height+64;let o=n.getContext("2d");o.fillStyle="white",o.fillRect(0,0,n.width,n.height),o.drawImage(t,32,32);var l=document.createElement("a");l.href=n.toDataURL("image/png"),l.download="download.png",document.body.appendChild(l),l.click(),document.body.removeChild(l),e.textContent="Download Info"}))}e.textContent="Generating...",o.onload=function(){l=!0,d()},setTimeout(function(){l||d()},1e3),o.complete&&(l=!0,d())});
