  `,colors:{log:"#124F5C",error:"#ed2939",warn:"#f39c12"},log(t,e){},error(t,e){},warn(t,e){}};function rQ(){this.collectionName=null,this.orderByProperty=null,this.orderByDirection=null,this.limitBy=null,this.docSelectionCriteria=null,this.userErrors=[]}function rK(){let t;return this.collectionName||this.docSelectionCriteria?this.collectionName&&!this.docSelectionCriteria?t="collection":this.collectionName&&this.docSelectionCriteria&&(t="doc"):t="db",t}function rY(){for(let t=0;t<this.userErrors.length;t++)rV.error.call(this,this.userErrors[t]);rQ.call(this)}function rX(t={keys:!1}){if(this.getCollection=()=>{let e=this.collectionName,r=this.orderByProperty,n=this.orderByDirection,o=this.limitBy,i=[];return this.lf[e].iterate((e,r)=>{let n={};n=t.keys?{key:r,data:e}:e,i.push(n)}).then(()=>{let a=`Got "${e}" collection`;return r&&(a+=`, ordered by "${r}"`,t.keys?i.sort((t,e)=>t.data[r].toString().localeCompare(e.data[r].toString())):i.sort((t,e)=>t[r].toString().localeCompare(e[r].toString()))),"desc"==n&&(a+=" (descending)",i.reverse()),o&&(a+=`, limited to ${o}`,i=i.splice(0,o)),a+=":",rV.log.call(this,a,i),rQ.call(this),i})},this.getDocument=()=>{let t=this.collectionName,e=this.docSelectionCriteria,r=[],n={};return(this.getDocumentByCriteria=()=>this.lf[t].iterate((t,n)=>{rG(t,e)&&r.push(t)}).then(()=>{if(r.length)return n=r[0],rV.log.call(this,`Got Document with ${JSON.stringify(e)}:`,n),rQ.call(this),n;rV.error.call(this,`Could not find Document in "${t}" collection with criteria: ${JSON.stringify(e)}`)}),this.getDocumentByKey=()=>this.lf[t].getItem(e).then(r=>((n=r)?rV.log.call(this,`Got Document with key ${JSON.stringify(e)}:`,n):rV.error.call(this,`Could not find Document in "${t}" collection with Key: ${JSON.stringify(e)}`),rQ.call(this),n)).catch(r=>{rV.error.call(this,`Could not find Document in "${t}" collection with Key: ${JSON.stringify(e)}`),rQ.call(this)}),"object"==typeof e)?this.getDocumentByCriteria():this.getDocumentByKey()},"object"==typeof t&&t instanceof Array==!1?t.hasOwnProperty("keys")?"boolean"!=typeof t.keys&&this.userErrors.push('Property "keys" passed into get() method must be assigned a boolean value (true or false). Not a string or integer.'):this.userErrors.push('Object passed to get() method must contain a "keys" property set to boolean true or false, e.g. { keys: true }'):this.userErrors.push('Data passed to .get() must be an object. Not an array, string, number or boolean. The object must contain a "keys" property set to true or false, e.g. { keys: true }'),this.userErrors.length)return rY.call(this),null;{let t=rK.call(this);if("collection"==t)return this.getCollection();if("doc"==t)return this.getDocument()}}function rZ(t,e){return rQ.call(this),rV.log.call(this,t,e),{success:!0,message:t,data:e}}function r0(t){return rQ.call(this),rV.error.call(this,t),`Error: ${t}`}"use strict";"use strict";var r1={};S=function(t){for(var e,r=t.length,n=r%3,o=[],i=0,a=r-n;i<a;i+=16383)o.push(function(t,e,r){for(var n,o=[],i=e;i<r;i+=3)o.push(r2[(n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]))>>18&63]+r2[n>>12&63]+r2[n>>6&63]+r2[63&n]);return o.join("")}(t,i,i+16383>a?a:i+16383));return 1===n?o.push(r2[(e=t[r-1])>>2]+r2[e<<4&63]+"=="):2===n&&o.push(r2[(e=(t[r-2]<<8)+t[r-1])>>10]+r2[e>>4&63]+r2[e<<2&63]+"="),o.join("")};for(var r2=[],r6=[],r8="undefined"!=typeof Uint8Array?Uint8Array:Array,r5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r4=0,r3=r5.length;r4<r3;++r4)r2[r4]=r5[r4],r6[r5.charCodeAt(r4)]=r4;r6["-".charCodeAt(0)]=62,r6["_".charCodeAt(0)]=63,C=function(t,e,r,n,o){var i,a,u=8*o-n-1,s=(1<<u)-1,c=s>>1,l=-7,f=r?o-1:0,h=r?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=u;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},_=function(t,e,r,n,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?5960464477539062e-23:0,d=n?0:i-1,g=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),a+f>=1?e+=h/s:e+=h*Math.pow(2,1-f),e*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,o),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&u,d+=g,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[r+d]=255&a,d+=g,a/=256,c-=8);t[r+d-g]|=128*p};const r7="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function r9(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,nt.prototype),e}function nt(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return nn(t)}return ne(t,e,r)}function ne(t,e,r){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!nt.isEncoding(e))throw TypeError("Unknown encoding: "+e);let r=0|nu(t,e),n=r9(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(nO(t,Uint8Array)){let e=new Uint8Array(t);return ni(e.buffer,e.byteOffset,e.byteLength)}return no(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(nO(t,ArrayBuffer)||t&&nO(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(nO(t,SharedArrayBuffer)||t&&nO(t.buffer,SharedArrayBuffer)))return ni(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return nt.from(n,e,r);let o=function(t){var e;if(nt.isBuffer(t)){let e=0|na(t.length),r=r9(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?r9(0):no(t):"Buffer"===t.type&&Array.isArray(t.data)?no(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return nt.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function nr(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function nn(t){return nr(t),r9(t<0?0:0|na(t))}function no(t){let e=t.length<0?0:0|na(t.length),r=r9(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function ni(t,e,r){let n;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),nt.prototype),n}function na(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function nu(t,e){if(nt.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||nO(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return nN(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return nA(t).length;default:if(o)return n?-1:nN(t).length;e=(""+e).toLowerCase(),o=!0}}function ns(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=e;n<r;++n)o+=nD[t[n]];return o}(this,e,r);case"utf8":case"utf-8":return nh(this,e,r);case"ascii":return function(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}(this,e,r);case"latin1":case"binary":return function(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}(this,e,r);case"base64":var o,i;return o=e,i=r,0===o&&i===this.length?S(this):S(this.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){let n=t.slice(e,r),o="";for(let t=0;t<n.length-1;t+=2)o+=String.fromCharCode(n[t]+256*n[t+1]);return o}(this,e,r);default:if(n)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function nc(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function nl(t,e,r,n,o){var i;if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(i=r=+r)!=i&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return -1;r=t.length-1}else if(r<0){if(!o)return -1;r=0}if("string"==typeof e&&(e=nt.from(e,n)),nt.isBuffer(e))return 0===e.length?-1:nf(t,e,r,n,o);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):nf(t,[e],r,n,o);throw TypeError("val must be string, number or Buffer")}function nf(t,e,r,n,o){let i,a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;a=2,u/=2,s/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let n=-1;for(i=r;i<u;i++)if(c(t,i)===c(e,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===s)return n*a}else -1!==n&&(i-=i-n),n=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){let r=!0;for(let n=0;n<s;n++)if(c(t,i+n)!==c(e,n)){r=!1;break}if(r)return i}return -1}function nh(t,e,r){r=Math.min(t.length,r);let n=[],o=e;for(;o<r;){let e=t[o],i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=r){let r,n,u,s;switch(a){case 1:e<128&&(i=e);break;case 2:(192&(r=t[o+1]))==128&&(s=(31&e)<<6|63&r)>127&&(i=s);break;case 3:r=t[o+1],n=t[o+2],(192&r)==128&&(192&n)==128&&(s=(15&e)<<12|(63&r)<<6|63&n)>2047&&(s<55296||s>57343)&&(i=s);break;case 4:r=t[o+1],n=t[o+2],u=t[o+3],(192&r)==128&&(192&n)==128&&(192&u)==128&&(s=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u)>65535&&s<1114112&&(i=s)}}null===i?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=a}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function nd(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function ng(t,e,r,n,o,i){if(!nt.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function np(t,e,r,n,o){nC(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function ny(t,e,r,n,o){nC(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function nm(t,e,r,n,o,i){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function nv(t,e,r,n,o){return e=+e,r>>>=0,o||nm(t,e,r,4,34028234663852886e22,-34028234663852886e22),_(t,e,r,n,23,4),r+4}function nb(t,e,r,n,o){return e=+e,r>>>=0,o||nm(t,e,r,8,17976931348623157e292,-17976931348623157e292),_(t,e,r,n,52,8),r+8}nt.TYPED_ARRAY_SUPPORT=function(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),nt.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(nt.prototype,"parent",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.buffer}}),Object.defineProperty(nt.prototype,"offset",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.byteOffset}}),nt.poolSize=8192,nt.from=function(t,e,r){return ne(t,e,r)},Object.setPrototypeOf(nt.prototype,Uint8Array.prototype),Object.setPrototypeOf(nt,Uint8Array),nt.alloc=function(t,e,r){return(nr(t),t<=0)?r9(t):void 0!==e?"string"==typeof r?r9(t).fill(e,r):r9(t).fill(e):r9(t)},nt.allocUnsafe=function(t){return nn(t)},nt.allocUnsafeSlow=function(t){return nn(t)},nt.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==nt.prototype},nt.compare=function(t,e){if(nO(t,Uint8Array)&&(t=nt.from(t,t.offset,t.byteLength)),nO(e,Uint8Array)&&(e=nt.from(e,e.offset,e.byteLength)),!nt.isBuffer(t)||!nt.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},nt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},nt.concat=function(t,e){let r;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return nt.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;let n=nt.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){let e=t[r];if(nO(e,Uint8Array))o+e.length>n.length?(nt.isBuffer(e)||(e=nt.from(e)),e.copy(n,o)):Uint8Array.prototype.set.call(n,e,o);else if(nt.isBuffer(e))e.copy(n,o);else throw TypeError('"list" argument must be an Array of Buffers');o+=e.length}return n},nt.byteLength=nu,nt.prototype._isBuffer=!0,nt.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)nc(this,e,e+1);return this},nt.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)nc(this,e,e+3),nc(this,e+1,e+2);return this},nt.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)nc(this,e,e+7),nc(this,e+1,e+6),nc(this,e+2,e+5),nc(this,e+3,e+4);return this},nt.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?nh(this,0,t):ns.apply(this,arguments)},nt.prototype.toLocaleString=nt.prototype.toString,nt.prototype.equals=function(t){if(!nt.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===nt.compare(this,t)},nt.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},r7&&(nt.prototype[r7]=nt.prototype.inspect),nt.prototype.compare=function(t,e,r,n,o){if(nO(t,Uint8Array)&&(t=nt.from(t,t.offset,t.byteLength)),!nt.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;let i=o-n,a=r-e,u=Math.min(i,a),s=this.slice(n,o),c=t.slice(e,r);for(let t=0;t<u;++t)if(s[t]!==c[t]){i=s[t],a=c[t];break}return i<a?-1:a<i?1:0},nt.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},nt.prototype.indexOf=function(t,e,r){return nl(this,t,e,r,!0)},nt.prototype.lastIndexOf=function(t,e,r){return nl(this,t,e,r,!1)},nt.prototype.write=function(t,e,r,n){var o,i,a,u,s,c,l,f;if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-e;if((void 0===r||r>h)&&(r=h),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let d=!1;for(;;)switch(n){case"hex":return function(t,e,r,n){let o;r=Number(r)||0;let i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;let a=e.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){let n=parseInt(e.substr(2*o,2),16);if(n!=n)break;t[r+o]=n}return o}(this,t,e,r);case"utf8":case"utf-8":return o=e,i=r,nB(nN(t,this.length-o),this,o,i);case"ascii":case"latin1":case"binary":return a=e,u=r,nB(function(t){let e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(t),this,a,u);case"base64":return s=e,c=r,nB(nA(t),this,s,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=e,f=r,nB(function(t,e){let r,n;let o=[];for(let i=0;i<t.length&&!((e-=2)<0);++i)n=(r=t.charCodeAt(i))>>8,o.push(r%256),o.push(n);return o}(t,this.length-l),this,l,f);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},nt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},nt.prototype.slice=function(t,e){let r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);let n=this.subarray(t,e);return Object.setPrototypeOf(n,nt.prototype),n},nt.prototype.readUintLE=nt.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||nd(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return n},nt.prototype.readUintBE=nt.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||nd(t,e,this.length);let n=this[t+--e],o=1;for(;e>0&&(o*=256);)n+=this[t+--e]*o;return n},nt.prototype.readUint8=nt.prototype.readUInt8=function(t,e){return t>>>=0,e||nd(t,1,this.length),this[t]},nt.prototype.readUint16LE=nt.prototype.readUInt16LE=function(t,e){return t>>>=0,e||nd(t,2,this.length),this[t]|this[t+1]<<8},nt.prototype.readUint16BE=nt.prototype.readUInt16BE=function(t,e){return t>>>=0,e||nd(t,2,this.length),this[t]<<8|this[t+1]},nt.prototype.readUint32LE=nt.prototype.readUInt32LE=function(t,e){return t>>>=0,e||nd(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},nt.prototype.readUint32BE=nt.prototype.readUInt32BE=function(t,e){return t>>>=0,e||nd(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},nt.prototype.readBigUInt64LE=nT(function(t){n_(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&nL(t,this.length-8);let n=e+256*this[++t]+65536*this[++t]+16777216*this[++t],o=this[++t]+256*this[++t]+65536*this[++t]+16777216*r;return BigInt(n)+(BigInt(o)<<BigInt(32))}),nt.prototype.readBigUInt64BE=nT(function(t){n_(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&nL(t,this.length-8);let n=16777216*e+65536*this[++t]+256*this[++t]+this[++t],o=16777216*this[++t]+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)}),nt.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||nd(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},nt.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||nd(t,e,this.length);let n=e,o=1,i=this[t+--n];for(;n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},nt.prototype.readInt8=function(t,e){return(t>>>=0,e||nd(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},nt.prototype.readInt16LE=function(t,e){t>>>=0,e||nd(t,2,this.length);let r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},nt.prototype.readInt16BE=function(t,e){t>>>=0,e||nd(t,2,this.length);let r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},nt.prototype.readInt32LE=function(t,e){return t>>>=0,e||nd(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},nt.prototype.readInt32BE=function(t,e){return t>>>=0,e||nd(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},nt.prototype.readBigInt64LE=nT(function(t){n_(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&nL(t,this.length-8);let n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),nt.prototype.readBigInt64BE=nT(function(t){n_(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&nL(t,this.length-8);let n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+r)}),nt.prototype.readFloatLE=function(t,e){return t>>>=0,e||nd(t,4,this.length),C(this,t,!0,23,4)},nt.prototype.readFloatBE=function(t,e){return t>>>=0,e||nd(t,4,this.length),C(this,t,!1,23,4)},nt.prototype.readDoubleLE=function(t,e){return t>>>=0,e||nd(t,8,this.length),C(this,t,!0,52,8)},nt.prototype.readDoubleBE=function(t,e){return t>>>=0,e||nd(t,8,this.length),C(this,t,!1,52,8)},nt.prototype.writeUintLE=nt.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;ng(this,t,e,r,n,0)}let o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},nt.prototype.writeUintBE=nt.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;ng(this,t,e,r,n,0)}let o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},nt.prototype.writeUint8=nt.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,1,255,0),this[e]=255&t,e+1},nt.prototype.writeUint16LE=nt.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},nt.prototype.writeUint16BE=nt.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},nt.prototype.writeUint32LE=nt.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},nt.prototype.writeUint32BE=nt.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},nt.prototype.writeBigUInt64LE=nT(function(t,e=0){return np(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeBigUInt64BE=nT(function(t,e=0){return ny(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);ng(this,t,e,r,n-1,-n)}let o=0,i=1,a=0;for(this[e]=255&t;++o<r&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+r},nt.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);ng(this,t,e,r,n-1,-n)}let o=r-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+r},nt.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},nt.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},nt.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},nt.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},nt.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||ng(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},nt.prototype.writeBigInt64LE=nT(function(t,e=0){return np(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),nt.prototype.writeBigInt64BE=nT(function(t,e=0){return ny(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),nt.prototype.writeFloatLE=function(t,e,r){return nv(this,t,e,!0,r)},nt.prototype.writeFloatBE=function(t,e,r){return nv(this,t,e,!1,r)},nt.prototype.writeDoubleLE=function(t,e,r){return nb(this,t,e,!0,r)},nt.prototype.writeDoubleBE=function(t,e,r){return nb(this,t,e,!1,r)},nt.prototype.copy=function(t,e,r,n){if(!nt.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);let o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},nt.prototype.fill=function(t,e,r,n){let o;if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!nt.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){let e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{let i=nt.isBuffer(t)?t:nt.from(t,n),a=i.length;if(0===a)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=i[o%a]}return this};const nw={};function nE(t,e,r){nw[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function nS(t){let e="",r=t.length,n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function nC(t,e,r,n,o,i){if(t>r||t<e){let n;let o="bigint"==typeof e?"n":"";throw n=i>3?0===e||e===BigInt(0)?`>= 0${o} and < 2${o} ** ${(i+1)*8}${o}`:`>= -(2${o} ** ${(i+1)*8-1}${o}) and < 2 ** ${(i+1)*8-1}${o}`:`>= ${e}${o} and <= ${r}${o}`,new nw.ERR_OUT_OF_RANGE("value",n,t)}n_(o,"offset"),(void 0===n[o]||void 0===n[o+i])&&nL(o,n.length-(i+1))}function n_(t,e){if("number"!=typeof t)throw new nw.ERR_INVALID_ARG_TYPE(e,"number",t)}function nL(t,e,r){if(Math.floor(t)!==t)throw n_(t,r),new nw.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new nw.ERR_BUFFER_OUT_OF_BOUNDS;throw new nw.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}nE("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nE("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),nE("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?o=nS(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=nS(o)),o+="n"),n+=` It must be ${e}. Received ${o}`},RangeError);const nI=/[^+/0-9A-Za-z-_]/g;function nN(t,e){let r;e=e||1/0;let n=t.length,o=null,i=[];for(let a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319||a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function nA(t){return function(t){var e,r,n=function(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}(t),o=n[0],i=n[1],a=new r8((o+i)*3/4-i),u=0,s=i>0?o-4:o;for(r=0;r<s;r+=4)e=r6[t.charCodeAt(r)]<<18|r6[t.charCodeAt(r+1)]<<12|r6[t.charCodeAt(r+2)]<<6|r6[t.charCodeAt(r+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;return 2===i&&(e=r6[t.charCodeAt(r)]<<2|r6[t.charCodeAt(r+1)]>>4,a[u++]=255&e),1===i&&(e=r6[t.charCodeAt(r)]<<10|r6[t.charCodeAt(r+1)]<<4|r6[t.charCodeAt(r+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e),a}(function(t){if((t=(t=t.split("=")[0]).trim().replace(nI,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function nB(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length)&&!(o>=t.length);++o)e[o+r]=t[o];return o}function nO(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}const nD=function(){let t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function nT(t){return"undefined"==typeof BigInt?nx:t}function nx(){throw Error("BigInt not supported")}"use strict";var nj={},nR={},nk={},n$="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n$){var nM=new Uint8Array(16);nk=function(){return n$(nM),nM}}else{var nU=Array(16);nk=function(){for(var t,e=0;e<16;e++)(3&e)==0&&(t=4294967296*Math.random()),nU[e]=t>>>((3&e)<<3)&255;return nU}}for(var nP={},nF=[],nq=0;nq<256;++nq)nF[nq]=(nq+256).toString(16).substr(1);nP=function(t,e){var r=e||0;return[nF[t[r++]],nF[t[r++]],nF[t[r++]],nF[t[r++]],"-",nF[t[r++]],nF[t[r++]],"-",nF[t[r++]],nF[t[r++]],"-",nF[t[r++]],nF[t[r++]],"-",nF[t[r++]],nF[t[r++]],nF[t[r++]],nF[t[r++]],nF[t[r++]],nF[t[r++]]].join("")};var nz=0,nW=0;nR=function(t,e,r){var n=e&&r||0,o=e||[],i=(t=t||{}).node||L,a=void 0!==t.clockseq?t.clockseq:I;if(null==i||null==a){var u=nk();null==i&&(i=L=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=I=(u[6]<<8|u[7])&16383)}var s=void 0!==t.msecs?t.msecs:new Date().getTime(),c=void 0!==t.nsecs?t.nsecs:nW+1,l=s-nz+(c-nW)/1e4;if(l<0&&void 0===t.clockseq&&(a=a+1&16383),(l<0||s>nz)&&void 0===t.nsecs&&(c=0),c>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");nz=s,nW=c,I=a;var f=((268435455&(s+=122192928e5))*1e4+c)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=255&f;var h=s/4294967296*1e4&268435455;o[n++]=h>>>8&255,o[n++]=255&h,o[n++]=h>>>24&15|16,o[n++]=h>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var d=0;d<6;++d)o[n+d]=i[d];return e||nP(o)};var nJ={},nH=nJ=function(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||nk)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[n+i]=o[i];return e||nP(o)};function nG(t,e){if(t?"object"==typeof t&&t instanceof Array==!1||this.userErrors.push("Data passed to .add() must be an object. Not an array, string, number or boolean."):this.userErrors.push('No data specified in add() method. You must use an object, e.g { id: 1, name: "Bill", age: 47 }'),this.userErrors.length)rY.call(this);else{let r=this.collectionName;return new Promise((n,o)=>{let i=null;return i=e||r1.generate(),this.lf[r].setItem(i,t).then(()=>{n(rZ.call(this,`Document added to "${r}" collection.`,{key:i,data:t}))}).catch(t=>{o(r0.call(this,`Could not add Document to ${r} collection.`))})})}}function nV(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e]){var n=arguments[e][r];t[r]=n}return t}function nQ(t){let e=this.collectionName,r=this.docSelectionCriteria;return new Promise((n,o)=>{this.updateDocumentByCriteria=()=>{let i=[];this.lf[e].iterate((e,n)=>{if(rG(e,r)){let r=nV(e,t);i.push({key:n,newDocument:r})}}).then(()=>{i.length||o(r0.call(this,`No Documents found in ${e} Collection with criteria ${JSON.stringify(r)}.`)),i.length>1&&rV.warn.call(this,`Multiple documents (${i.length}) with ${JSON.stringify(r)} found for updating.`)}).then(()=>{i.forEach((a,u)=>{this.lf[e].setItem(a.key,a.newDocument).then(o=>{u===i.length-1&&n(rZ.call(this,`${i.length} Document${i.length>1?"s":""} in "${e}" collection with ${JSON.stringify(r)} updated.`,t))}).catch(t=>{o(r0.call(this,`Could not update ${i.length} Documents in ${e} Collection.`))})})})},this.updateDocumentByKey=()=>{let i={};this.lf[e].getItem(r).then(o=>{i=nV(o,t),this.lf[e].setItem(r,i),n(rZ.call(this,`Document in "${e}" collection with key ${JSON.stringify(r)} updated.`,i))}).catch(t=>{o(r0.call(this,`No Document found in "${e}" collection with key ${JSON.stringify(r)}`))})},t?"object"==typeof t&&t instanceof Array==!1||this.userErrors.push("Data passed to .update() must be an object. Not an array, string, number or boolean."):this.userErrors.push('No update object provided to update() method. Use an object e.g. { name: "William" }'),this.userErrors.length?rY.call(this):"object"==typeof r?this.updateDocumentByCriteria():this.updateDocumentByKey()})}function nK(t,e={keys:!1}){let r=this.collectionName,n=this.docSelectionCriteria,o=rK.call(this);return new Promise((i,a)=>{if(this.setCollection=()=>{this.lf[r].clear().then(()=>{if(e.keys){console.log("keys provided");let e=0;t.forEach(t=>{!t.hasOwnProperty("_key")&&e++}),e?a(r0.call(this,"Documents provided to .set() in an array must each have a _key property set to a string.")):(t.forEach(t=>{let e=t._key;delete t._key,this.add(t,e)}),i(rZ.call(this,`Collection "${r}" set with ${t.length} Documents.`,t)))}else t.forEach(t=>{this.add(t)}),i(rZ.call(this,`Collection "${r}" set with ${t.length} Documents.`,t))}).catch(e=>{a(r0.call(this,`Could not set ${r} Collection with data ${JSON.stringify(t)}.`))})},this.setDocument=()=>(this.setDocumentByCriteria=()=>{let e=[];this.lf[r].iterate((r,o)=>{rG(r,n)&&e.push({key:o,newDocument:t})}).then(()=>{e.length||a(r0.call(this,`No Documents found in ${r} Collection with criteria ${JSON.stringify(n)}.`)),e.length>1&&rV.warn.call(this,`Multiple documents (${e.length}) with ${JSON.stringify(n)} found for setting.`)}).then(()=>{e.forEach((o,u)=>{this.lf[r].setItem(o.key,o.newDocument).then(o=>{u===e.length-1&&i(rZ.call(this,`${e.length} Document${e.length>1?"s":""} in "${r}" collection with ${JSON.stringify(n)} was set.`,t))}).catch(t=>{a(r0.call(this,`Could not set ${e.length} Documents in ${r} Collection.`))})})})},this.setDocumentByKey=()=>{this.lf[r].setItem(n,t).then(e=>{i(rZ.call(this,`Document in "${r}" collection with key ${JSON.stringify(n)} was set.`,t))}).catch(t=>{a(r0.call(this,`Document in "${r}" collection with key ${JSON.stringify(n)} could not be set.`))})},"object"==typeof n)?this.setDocumentByCriteria():this.setDocumentByKey(),t?"doc"===o?"object"==typeof t&&t instanceof Array==!1||this.userErrors.push("Data passed to .set() must be an object. Not an array, string, number or boolean."):"collection"!==o||"object"==typeof t&&t instanceof Array==!0||this.userErrors.push("Data passed to .set() must be an array of objects. Not an object, string, number or boolean."):this.userErrors.push('No new Document object provided to set() method. Use an object e.g. { id: 1, name: "Bill", age: 47 }'),this.userErrors.length)rY.call(this);else{if("collection"==o)return this.setCollection();if("doc"==o)return this.setDocument()}})}function nY(){return new Promise((t,e)=>{if(this.deleteDatabase=()=>{let e=this.dbName;indexedDB.deleteDatabase(e),t(rZ.call(this,`Database "${e}" deleted.`,{database:e}))},this.deleteCollection=()=>{let r=this.dbName,n=this.collectionName;this.addToDeleteCollectionQueue=t=>{this.deleteCollectionQueue.queue.push(t),this.runDeleteCollectionQueue()},this.runDeleteCollectionQueue=()=>{!1==this.deleteCollectionQueue.running&&(this.deleteCollectionQueue.running=!0,this.deleteNextCollectionFromQueue())},this.deleteNextCollectionFromQueue=()=>{if(this.deleteCollectionQueue.queue.length){let n=this.deleteCollectionQueue.queue[0];this.deleteCollectionQueue.queue.shift(),this.lf[n].dropInstance({name:r,storeName:n}).then(()=>{this.deleteNextCollectionFromQueue(),t(rZ.call(this,`Collection "${n}" deleted.`,{collection:n}))}).catch(t=>{e(t.call(this,`Collection "${n}" could not be deleted.`))})}else this.deleteCollectionQueue.running=!1},this.addToDeleteCollectionQueue(n)},this.deleteDocument=()=>{let r=this.collectionName,n=this.docSelectionCriteria;return(this.deleteDocumentByCriteria=()=>{let o=[];this.lf[r].iterate((t,e)=>{rG(t,n)&&o.push(e)}).then(()=>{o.length||e(r0.call(this,`No Documents found in "${r}" Collection with criteria ${JSON.stringify(n)}. No documents deleted.`)),o.length>1&&rV.warn.call(this,`Multiple documents (${o.length}) with ${JSON.stringify(n)} found.`)}).then(()=>{o.forEach((i,a)=>{this.lf[r].removeItem(i).then(()=>{a===o.length-1&&t(rZ.call(this,`${o.length} Document${o.length>1?"s":""} with ${JSON.stringify(n)} deleted.`,{keys:o}))}).catch(t=>{e(r0.call(this,`Could not delete ${o.length} Documents in ${r} Collection.`))})})})},this.deleteDocumentByKey=()=>{this.lf[r].getItem(n).then(o=>{o?this.lf[r].removeItem(n).then(()=>{t(rZ.call(this,`Document with key ${JSON.stringify(n)} deleted.`,{key:n}))}).catch(function(t){e(r0.call(this,`No Document found in "${r}" Collection with key ${JSON.stringify(n)}. No document was deleted.`))}):e(r0.call(this,`No Document found in "${r}" Collection with key ${JSON.stringify(n)}. No document was deleted.`))})},"object"==typeof n)?this.deleteDocumentByCriteria():this.deleteDocumentByKey()},this.userErrors.length)rY.call(this);else{let t=rK.call(this);if("db"==t)return this.deleteDatabase();if("collection"==t)return this.deleteCollection();if("doc"==t)return this.deleteDocument()}})}"use strict";nH.v1=nR,nH.v4=nJ,nj=nH,r1={generate:function(){var t=nj.v1();return t.substr(14,4)+t.substr(9,4)+t.substr(0,8)+t.substr(19,4)+t.substr(24,t.length)},toBinary16:function(t){return new nt(t,"hex")},fromBinary16:function(t){return t.toString("hex")}};var nX=class{constructor(t){this.dbName=t,this.lf={},this.collectionName=null,this.orderByProperty=null,this.orderByDirection=null,this.limitBy=null,this.docSelectionCriteria=null,this.deleteCollectionQueue={queue:[],running:!1},this.config={debug:!0},this.userErrors=[],this.collection=rz.bind(this),this.doc=rW.bind(this),this.orderBy=rJ.bind(this),this.limit=rH.bind(this),this.get=rX.bind(this),this.add=nG.bind(this),this.update=nQ.bind(this),this.set=nK.bind(this),this.delete=nY.bind(this)}};const nZ=new class{};nZ.handlers={getIpData:()=>{},getProductData:()=>{},xanoErrorLogHandler:()=>{}};const n0=function(){nZ.userConfig=function(){let t=document.querySelector('[bmg="global-config"]')||document.body,e=!rM(document.querySelector('[bmg="loader"]')),r={defaultMaxNumberOfRenderedProducts:parseInt(t.getAttribute("data-default-max-number-of-rendered-products")||"8"),reinitWebflowIx2FirstTimeout:e?0:parseFloat(t.getAttribute("data-reinit-webflow-ix-2-first-timeout")||"4.6"),reinitWebflowIx2Timeout:parseFloat(t.getAttribute("data-reinit-webflow-ix-2-timeout")||"0.6"),defaultReinitWebflowIx2:"true"===(t.getAttribute("data-default-reinit-webflow-ix-2")||(!0).toString()),imageCardRenderBackgroundColor:t.getAttribute("data-image-card-render-background-color")||"#fcf9f3".toString(),buySlug:t.getAttribute("data-buy-slug")||"/buy".toString(),productSlug:t.getAttribute("data-product-slug")||"/gift-card".toString(),errorMoveUpTime:parseFloat(t.getAttribute("data-error-move-up-time")||"0.5"),errorStayTime:parseFloat(t.getAttribute("data-error-stay-time")||"3"),errorMoveUpPixelAmount:parseInt(t.getAttribute("data-error-move-up-pixel-amount")||"48"),is404ErrorSilent:"true"===(t.getAttribute("data-silent-404-errors")||(!0).toString()),settingsConfirmButtonLoadingTextBufferTime:parseFloat(t.getAttribute("data-settings-confirm-button-loading-text-buffer-time")||"0.5"),localBaseTtl:parseFloat(t.getAttribute("data-local-base-ttl")||"18"),regionAndLanguageDefaultCountryCode:t.getAttribute("data-region-and-language-default-country-code")||"uk".toString()};return r}(),nZ.maxNumberOfRenderedProducts=nZ.userConfig.defaultMaxNumberOfRenderedProducts,nZ.reinitWebflowIx2=nZ.userConfig.defaultReinitWebflowIx2,nZ.handlers.getIpData=async function(){try{let t=ls.get("userLocalizationConfig");if(null===t){await $.get("https://ipinfo.io",function(e){t=e},"jsonp");let e=rU(t.country),r=rP(t.country);ls.set("userLocalizationConfigLastRegionCodeSelected",t.country.toLowerCase()),t={region:t.country.toLowerCase(),language:t.country.toLowerCase(),regionName:e,languageName:r},ls.set("userLocalizationConfig",t)}return t}catch(e){let t={region:"uk",language:"uk",regionName:rU("uk"),languageName:rP("uk")};throw ls.set("userLocalizationConfig",t),setTimeout(function(){location.reload()},10),"model.ts -> getIpData: "+e}},nZ.handlers.getProductData=async function(t=nZ.userConfig.regionAndLanguageDefaultCountryCode,e=nZ.userConfig.regionAndLanguageDefaultCountryCode){try{let r=ls.get("localXanoDbMetaData"),n=ls.get("userLocalizationConfig"),o=!1;r&&n||(o=!0),n&&(t=n.region,e=n.language),r&&n&&(r.usedRegionCode!==t||r.usedlanguageCode!==e)&&(o=!0);let i=new nX("localXanoDb"),a=await i.collection("data").get();if(1!==a.length||o){await i.collection("data").delete();let r=await rF(`https://xwb9-o87y-ji1n.f2.xano.io/api:5hPT3Reu/products?region_code=${t}&language_code=${e}`);ls.set("localXanoDbMetaData",{usedRegionCode:t,usedlanguageCode:e},{ttl:3600*nZ.userConfig.localBaseTtl}),await i.collection("data").add({json:JSON.stringify(r)}),a=await i.collection("data").get()}let u=a[0].json;return a=JSON.parse(u),nZ.productData=a,a}catch(t){throw ls.remove("userLocalizationConfigLastRegionCodeSelected"),ls.remove("userLocalizationConfig"),setTimeout(function(){location.reload()},10),"model.ts -> getProductData: "+t}},nZ.handlers.xanoErrorLogHandler=async function(t=""){try{t+="";let e=await rF(`https://xwb9-o87y-ji1n.f2.xano.io/api:5hPT3Reu/error_log?msg=${t.replace(/#/g,"%23")}&url=${location.href.replace("https://","").replace(/#/g,"%23")}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});return e}catch(t){throw t}}};let n1=!1,n2=!1,n6={xanoRegion:"",xanoLanguage:"",linguanaLanguage:""};var n8=new class{async init(t){try{let e=this;this.#t=t.userConfig;let r=this.#e=t.handlers,n=document.querySelector('[bmg="nav-settings"]'),o=await r.getIpData(),i=o.region||"",a={l:o.language||"",r:o.region||""};o.regionName,o.languageName;let u=n?.querySelector('[bmg="region-list"]'),s=n?.querySelector('[bmg="language-list"]'),c=null;window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",t=>{c=t?.filter(t=>{let e=!1;return t.formBlock.classList.forEach(t=>{t.indexOf("nav_settings")>-1&&(e=!0)}),e})}]);let l=!1,f=!1,h=this.#r();if(!1===h)throw Error("settingsView.ts -> init: currentLinguanaLanguageCode returns false");n6.linguanaLanguage=h;let d=!1;if([{el:u,type:"region"},{el:s,type:"language"}].forEach((t,r)=>{t.el?.closest(".w-dropdown")?.setAttribute("id",`nav-settings-dropdown-${r}`);let n=$(`#nav-settings-dropdown-${r}`);n.find(".w-dropdown-toggle").on("click",function(){c?.forEach(t=>{t.resetFilters()})}),t.el?.querySelectorAll(".w-dyn-item").forEach(r=>{let u=r.querySelector("label"),g=u?.getAttribute("data-region-code")||this.#t.regionAndLanguageDefaultCountryCode,p=u?.getAttribute("data-language-code")||"en",y=!1;r.addEventListener("click",function(){if(!y){y=!0;return}setTimeout(function(){y=!1},100),"region"===t.type&&(i=g),"language"===t.type&&(a={l:p,r:g},ls.set("userLocalizationConfigLastRegionCodeSelected",g)),n.trigger("w-close"),c?.forEach(t=>{t.resetFilters()})}),g===o.region&&"region"===t.type&&(r.querySelector(".w-radio")?.click(),n6.xanoRegion=g,l=!0),(()=>{if(p===h&&"language"===t.type){let t=s?.querySelectorAll(`[data-language-code="${p}"]`).length||0;if(f=!0,t>1){if(g!==ls.get("userLocalizationConfigLastRegionCodeSelected"))return;d=!0}r.querySelector(".w-radio")?.click(),n6.xanoLanguage=g}})(),(()=>{if("language"===t.type){if(p!==h)return;let t=rP(p,p)||"";t!==o.languageName&&setTimeout(function(){e.#n([o.region,o.language,o.languageName],[g,p,t])},10)}})()})}),!l){n6.xanoRegion=e.#t.regionAndLanguageDefaultCountryCode,ls.get("userLocalizationConfig");let t={language:n6.xanoLanguage,languageName:rP(n6.linguanaLanguage,n6.linguanaLanguage)||"",region:e.#t.regionAndLanguageDefaultCountryCode,regionName:rP(e.#t.regionAndLanguageDefaultCountryCode)||""},r=u?.querySelector(`[data-region-code="${e.#t.regionAndLanguageDefaultCountryCode}"]`);r?.click(),ls.set("userLocalizationConfig",t)}if(!f){e.#e.logWarning(`Could not find "${rP(h,"en")||""}" within the available languages. Therefore "${rP(e.#t.regionAndLanguageDefaultCountryCode)||""}" has been selected as the default for you.`,{isSilentError:!0}),n2=!0;let t=ls.get("userLocalizationConfig"),r={...t,language:e.#t.regionAndLanguageDefaultCountryCode,languageName:rP(e.#t.regionAndLanguageDefaultCountryCode)||""},n=s?.querySelector('[data-language-code=""]');n?.click(),ls.set("userLocalizationConfig",r),n1=!0,this.#o("")}e.#e.renderCards();let g=n?.querySelector('[bmg="submit"]'),p=n?.querySelector('[bmg="nav-settings-x"]'),y=g?.innerHTML||"",m=function(t=!0){t&&p.click(),setTimeout(function(){g&&(g.innerHTML=y)},1e3*e.#t.settingsConfirmButtonLoadingTextBufferTime)},v=ls.get("userLocalizationConfig")||{};this.#e.updateOldLocalizationData=function(t){v=t},g?.addEventListener("click",function(){g.innerHTML="...";let t={region:i,language:a.r,regionName:rU(i,a.l)||"",languageName:rP(a.l,a.l)||""};ls.set("userLocalizationConfig",t);let r=v.languageName!==t.languageName;if(r){e.#o(a.l,m);return}let n=v.region!==t.region;if(n){e.#e.renderCards(m),v=t;return}if(d){(()=>{let r=v.language!==t.language;if(v=t,!r){m();return}e.#e.renderCards(()=>{m()})})();return}m()})}catch(t){this.#e.logError(t)}}#t;#e;#i;#n(t,e){if(this.#i)return;this.#i=!0;let r=this,n=document.querySelector('[bmg="language-suggestion-wrapper"]'),o=n?.querySelector('[bmg="current"]'),i=n?.querySelector('[bmg="suggested"]'),a=n?.querySelector('[bmg="accept"]'),u=n?.querySelector('[bmg="decline"]');if(!rM(n)||!rM(o)||!rM(i)||!rM(a)||!rM(u))throw Error("settingsView.ts -> #suggestSwitchingLanguages: Suggested language message elements and/or - wrapper element are not in the DOM");let s=document.querySelector('[bmg="nav-settings"]')?.querySelector('[bmg="language-list"]')?.querySelector(`[data-region-code="${t[1]}"]`),c=s?.getAttribute("data-language-code")||"";c=""===c?"en":c;let l=n6.linguanaLanguage;if(null==s){this.#a(rU(t[0],l)||" ");return}let f=rP(c,l)||"";if(o.innerHTML=e[2],i.innerHTML=f,""===f)throw Error("settingsView.ts -> #suggestSwitchingLanguages: suggestedTextValue can't equal ''");let h=this.#t;function d(){gsap.to(n,{display:"none",y:-h.errorMoveUpPixelAmount,opacity:0,duration:h.errorMoveUpTime})}gsap.fromTo(n,{display:"none",y:h.errorMoveUpPixelAmount,opacity:0},{display:"block",y:0,opacity:1,duration:h.errorMoveUpTime}),a.addEventListener("click",function(){let e=ls.get("userLocalizationConfig"),n={...e,language:t["1"],regionName:rU(c,c)||"",languageName:t["2"]};ls.set("userLocalizationConfig",n),r.#o(c),d()}),u.addEventListener("click",function(){let t=ls.get("userLocalizationConfig"),n={...t,language:e["0"],regionName:rU(t.language||"",e["1"])||"",languageName:e["2"]};ls.set("userLocalizationConfig",n),r.#u(l,!0),r.#e.renderCards(),r.#e.updateOldLocalizationData(n),d()})}#a(t){this.#e.logWarning(`Could not find "${t}" within the available regions. Therefore "${rU(this.#t.regionAndLanguageDefaultCountryCode,n6.linguanaLanguage)||""}" has been selected as the default for you.`,{isSilentError:!0});let e=document.querySelector('[bmg="nav-settings"]')?.querySelector('[bmg="language-list"]')?.querySelector(`[data-region-code="${this.#t.regionAndLanguageDefaultCountryCode}"]`);n2&&e?.click();let r=ls.get("userLocalizationConfig"),n={...r,language:this.#t.regionAndLanguageDefaultCountryCode,languageName:rP(this.#t.regionAndLanguageDefaultCountryCode),region:this.#t.regionAndLanguageDefaultCountryCode,regionName:rU(this.#t.regionAndLanguageDefaultCountryCode)};n2||(n={...n,language:n6.xanoLanguage,languageName:rP(n6.linguanaLanguage,n6.linguanaLanguage)}),ls.set("userLocalizationConfig",n),n2&&this.#o(""),n2||setTimeout(()=>{ls.set("userLocalizationConfig",n),this.#e.renderCards()},100)}#r(){let t=document.querySelector("#linguana-lang-switcher"),e=(t?.querySelector(".linguana-lang-switcher-label")?.innerHTML||"").toLowerCase();return""===e?(this.#e.logError("settingsView.ts -> #getCurrentLinguanaLanguage: Current language can't equal ''"),!1):e}#o(t,e=(t=!0)=>{}){setTimeout(()=>{let r=document.querySelector("#linguana-lang-switcher"),n=r?.querySelector("#linguana-lang-switcher-options-container")?.children,o=this,i="/",a="/",u=location.pathname;for(let e=0,r=n?.length||0;e<r;e++){let r=!!n&&n[e];if(!r)continue;let o=new URL(r.getAttribute("href")).pathname;0===e&&(i=o),2===o.split("/").length&&o.indexOf(`/${""===t?"en":t}`)>-1&&(a=o),o.split("/").length>2&&o.indexOf(`/${""===t?"en":t}/`)>-1&&(a=o)}if(this.#u(t),n1){location.href=i,n1=!1;return}if("/"!==a){location.href=a,e();return}if(u===i){s();return}if("en"===t&&(t=""),""===t&&u!==i){location.href=i,e();return}if(n6.linguanaLanguage===(""===t?"en":t)){console.log("English on English");return}function s(){o.#e.logWarning(`Whoops... Unfortunately something went wrong ... we don't seem to support ${rP(""===t?"en":t,"en")}. Please choose another language and don't hesitate to contact support to resolve this issue!`,!0);let r=ls.get("userLocalizationConfig"),n={...r,language:n6.xanoLanguage,regionName:rU(n6.xanoRegion,n6.linguanaLanguage)||"",languageName:rP(n6.linguanaLanguage,n6.linguanaLanguage)||""};ls.set("userLocalizationConfig",n),o.#e.updateOldLocalizationData(n),e(!1)}s()},0)}#u(t,e=!1){let r=document.querySelector('[bmg="nav-settings"]')?.querySelector('[bmg="language-list"]')?.querySelectorAll(`[data-language-code="${"en"===t?"":t}"]`),n=r?.length||0;if(n>1){let t=ls.get("userLocalizationConfigLastRegionCodeSelected")||"",n=[];r.forEach(t=>{n.push(t.getAttribute("data-region-code")||"")});let o=n[0]||"";!n.includes(t)&&(ls.set("userLocalizationConfigLastRegionCodeSelected",o),e&&r[0]?.click())}}constructor(){this.#i=!1}},n5=new class{#s(t,e){let r=t.querySelector('[bmg="title"]');r&&(r.innerHTML=e.name);let n=t.querySelector('[bmg="image"]');n?.removeAttribute("srcset");let o=t.querySelector('[bmg="image-alternative"]'),i=""===e.main_image_wf_url?null!==e.main_image?e.main_image.url:"":e.main_image_wf_url;""===i?(n&&(n.style.display="none"),o&&(o.style.display="inline-block")):(n&&(n.style.backgroundColor=this.#t.imageCardRenderBackgroundColor),n?.setAttribute("src",i));let a=t.querySelector('[bmg="product-link"]');""!==e.wf_slug?a?.setAttribute("href",this.#c+e.wf_slug+`?origin=${location.pathname}`):a?.setAttribute("href",`${this.#c}${this.#t.productSlug}?id=${e.id}&origin=${location.pathname}`);let u=t.querySelector('[bmg="buy-link"]');u?.setAttribute("href",`${this.#c}${this.#t.buySlug}?id=${e.id}&origin=${location.pathname}`),""===e.country_data.checkout_link&&u?.setAttribute("href",a?.getAttribute("href")||"#");let s=t.querySelector('[bmg="description"]');""!==e.country_data.description_short?s&&(s.innerHTML=e.country_data.description_short):s&&(s.style.display="none");let c=t.querySelector('[bmg="price-text"]'),l=t.querySelector('[bmg="from-price"]'),f=t.querySelector('[bmg="to-price"]');e.country_data.price_min||e.country_data.price_max||!c||(c.style.display="none"),(e.country_data.price_min&&!e.country_data.price_max||!e.country_data.price_min&&e.country_data.price_max)&&c&&(c.innerHTML=this.#l(e.country_data.product_price_notation,e.country_data.price_min||e.country_data.price_max)),e.country_data.price_min&&e.country_data.price_max&&(l&&(l.innerHTML=this.#l(e.country_data.product_price_notation,e.country_data.price_min)),f&&(f.innerHTML=this.#l(e.country_data.product_price_notation,e.country_data.price_max)))}#l(t,e){let r=t.split("x.").length,n=t.split("x,").length,o=2===r?"x.":"x,";if(2!==r&&2!==n)throw Error("renderListView.ts -> #returnFormattedNumber: Wrong format");let i=t.split(o)[1].split("x").length-1,a=o;for(let t=0;t<i;t++)a+="x";let u=t.replace(a,"x."===o?e.toFixed(i):e.toFixed(i).replace(".",","));return u}async #f(t=()=>{}){try{if(await this.#e.getProductData(),t(),this.#h.forEach(t=>{t()}),!rM(this.#d.list)||!rM(this.#d.template))return;let e=this.#g.productData,r=this,n=this.#g.maxNumberOfRenderedProducts;if(this.#d.list.innerHTML="",e.length<1){if(!rM(this.#d.emptyMsg))throw Error("renderListView.ts -> #renderMain -> empty state handler -> guard: emptyMsg element is not declared");let t=this.#d.emptyMsg.cloneNode(!0);t&&(t.style.display="block"),this.#d.list.append(t);return}e.forEach((t,e)=>{if(e>=n)return;let o=r.#d.template.cloneNode(!0);r.#s(o,t),this.#d.list.append(o)});let o=this.#t.reinitWebflowIx2Timeout;this.#p&&(this.#p=!1,o=this.#t.reinitWebflowIx2FirstTimeout),this.#g.reinitWebflowIx2&&setTimeout(Webflow.require("ix2").init,1e3*o),this.#y.forEach(t=>{t()})}catch(t){this.#e.logError("renderListView.ts -> #renderMain: "+t)}}#p;init(t){try{let e=this;this.#t=t.userConfig;let r=this.#e=t.handlers;this.#h=t.onRenderCardsFunctions,this.#y=t.afterRenderCardsFunctions,this.#g=t,this.#c=this.#m(),r.renderCards=function(t){e.#f(t)};let n=document.querySelector('[bmg="card-list"]'),o=n?.children[0].cloneNode(!0);this.#d={list:n,template:o,emptyMsg:n?.querySelector('[bmg="empty"]')?.cloneNode(!0)}}catch(t){this.#e.logError("renderListView.ts -> init: "+t)}}#m(){let t=location.pathname.split("/");return""===t[1]?"":`/${t[1]}`}#t;#e;#d;#h;#y;#g;#c;constructor(){this.#p=!0}},n4=new class{async init(n){r=this.#t=n.userConfig;let o=this.#e=n.handlers;o.logError=this.logError,o.logWarning=this.logWarning,e=o.xanoErrorLogHandler,t=this.logError,!0!==this.#v()&&(n8.init(n),n5.init(n))}#d;#t;#e;logWarning(e="",n={isSilentError:!1}){if(""===e){t("view.ts -> logWarning: Warning message can't equal ''",{});return}if(void 0===r){t("view.ts -> logWarning: User configuration can't euqal undefined; msg: "+e,{});return}let i=document.querySelector('[bmg="warning-wrapper"]'),a=document.querySelector('[bmg="warning-msg"]'),u=r;if(!rM(a)||!rM(i)){t("view.ts -> logWarning: Warning message element and/or - wrapper element are not in the DOM; msg: "+e,{});return}a.innerHTML=e,void 0!==o&&o.clear();let s=o=gsap.timeline();if(s.fromTo(i,{display:"none",y:u.errorMoveUpPixelAmount,opacity:0},{display:"block",y:0,opacity:1,duration:u.errorMoveUpTime}),s.to(i,{display:"none",y:-u.errorMoveUpPixelAmount,opacity:0,duration:u.errorMoveUpTime},`>+=${u.errorStayTime}`),n.isSilentError){t(`[SILENT] ${e}`,{isSilentError:!0});return}}logError(o="",i={isRateLimitError:!1,isSilentError:!1}){if(""===o)throw Error("view.ts -> logError: Error message can't equal ''");if(void 0===r)throw Error("view.ts -> logError: User configuration can't euqal undefined; msg: "+o);let a=document.querySelector('[bmg="error-wrapper"]'),u=document.querySelector('[bmg="error-msg"]'),s=r;if(!rM(u)||!rM(a))throw Error("view.ts -> logError: Error message element and/or - wrapper element are not in the DOM; msg: "+o);if(u.innerHTML=o,!i.isSilentError){void 0!==n&&n.clear();let t=n=gsap.timeline();t.fromTo(a,{display:"none",y:s.errorMoveUpPixelAmount,opacity:0},{display:"block",y:0,opacity:1,duration:s.errorMoveUpTime}),t.to(a,{display:"none",y:-s.errorMoveUpPixelAmount,opacity:0,duration:s.errorMoveUpTime},`>+=${s.errorStayTime}`)}i.isRateLimitError||async function(){try{await e(o)}catch(e){t(e,{isRateLimitError:!0,isSilentError:!1})}}()}#v(){let t=document.querySelector('[bmg="404"]');if(rM(t))return this.logError(`404 ... ${location.hostname+location.pathname}`,{isRateLimitError:!1,isSilentError:this.#t.is404ErrorSilent}),!0}};const n3=async function(){try{n0(),window.GetGiftedMainJsState=nZ,nZ.onRenderCardsFunctions=[],nZ.handlers.pushOnRenderCardsFunctions=function(...t){t.forEach(t=>{"function"==typeof t&&nZ.onRenderCardsFunctions.push(t)})},nZ.afterRenderCardsFunctions=[],nZ.handlers.pushAfterRenderCardsFunctions=function(...t){t.forEach(t=>{"function"==typeof t&&nZ.afterRenderCardsFunctions.push(t)})},n4.init(nZ)}catch(t){"object"!=typeof t?n4.logError(t):n4.logError(t.err,{isRateLimitError:!0,isSilentError:!1})}};!function(t){"undefined"==typeof gsap?r$("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js",e):e();function e(){"undefined"==typeof ls?r$("https://cdn.jsdelivr.net/npm/localstorage-slim",t):t()}}(function(){n3()});})()
